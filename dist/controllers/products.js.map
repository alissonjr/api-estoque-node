{"version":3,"file":"products.js","sourceRoot":"","sources":["../../controllers/products.ts"],"names":[],"mappings":"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","sourcesContent":["import HttpStatus = require('http-status');\r\nimport Product from '../interfaces/Product';\r\n\r\n/**\r\n * Controller of all Products methods\r\n * \r\n * @export\r\n * @class ProductsController\r\n */\r\nexport default class ProductsController {\r\n\r\n    private Products;\r\n    \r\n    /**\r\n     * Default Response of requesitions\r\n     * \r\n     * @private\r\n     * @param {object} data - default response\r\n     * @param {number} [statusCode=HttpStatus.OK] - status of requesition\r\n     * @returns \r\n     * @memberof ProductsController\r\n     */\r\n    private defaultResponse(data: object, statusCode: number = HttpStatus.OK) {\r\n        return { data, statusCode }\r\n    }\r\n\r\n    /**\r\n     * Default error response of requisitions\r\n     * \r\n     * @private\r\n     * @param {string} message - message error\r\n     * @param {number} [statusCode=HttpStatus.BAD_REQUEST]  - status of requisition\r\n     * @returns \r\n     * @memberof ProductsController\r\n     */\r\n    private errorResponse(message: string, statusCode: number = HttpStatus.BAD_REQUEST){\r\n        return this.defaultResponse({ error: message }, statusCode);\r\n    }\r\n\r\n    /**\r\n     * Creates an instance of ProductsController.\r\n     * @param {any} Products - model with Product's methods\r\n     * @memberof ProductsController\r\n     */\r\n    constructor(Products) {\r\n        this.Products = Products;\r\n    }\r\n\r\n    /**\r\n     * Get all Products found\r\n     * \r\n     * @returns \r\n     * @memberof ProductsController\r\n     */\r\n    public getAll() {\r\n        return this.Products.findAll({})\r\n            .then(result => this.defaultResponse(result))\r\n            .catch(error => this.errorResponse(error.message));\r\n    }\r\n\r\n    /**\r\n     * Get a specific Product\r\n     * \r\n     * @param {number} id \r\n     * @memberof ProductsController\r\n     */\r\n    public getById(id: number) {\r\n        return this.Products.findOne({ where: id })\r\n            .then(result => this.defaultResponse(result))\r\n            .catch(error => this.errorResponse(error.message));\r\n    }\r\n\r\n    /**\r\n     * Create a new product\r\n     * \r\n     * @param {Product} data - informations of new Product\r\n     * @memberof ProductsController\r\n     */\r\n    public create(data: Product) {\r\n        return this.Products.create(data)\r\n            .then(result => this.defaultResponse(result, HttpStatus.CREATED))\r\n            .catch(error => this.errorResponse(error.message, HttpStatus.UNPROCESSABLE_ENTITY));\r\n    }\r\n\r\n    /**\r\n     * Update a product\r\n     * \r\n     * @param {Product} data - informations to be updated\r\n     * @param {number} id - id of product that will be updated\r\n     * @memberof ProductsController\r\n     */\r\n    public update(data: Product, id: number) {\r\n        return this.Products.update(data, { where: id })\r\n            .then(result => this.defaultResponse(result))\r\n            .catch(error => this.errorResponse(error.message, HttpStatus.UNPROCESSABLE_ENTITY));\r\n    }\r\n\r\n    /**\r\n     * Delete a product\r\n     * \r\n     * @param {number} id - id of product that will be deleted\r\n     * @memberof ProductsController\r\n     */\r\n    public delete(id: number) {\r\n        return this.Products.destroy({ where: id })\r\n            .then(result => this.defaultResponse(result, HttpStatus.NO_CONTENT))\r\n            .catch(error => this.errorResponse(error.message, HttpStatus.UNPROCESSABLE_ENTITY));\r\n    }\r\n}"]}